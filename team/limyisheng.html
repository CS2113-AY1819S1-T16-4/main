<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Lim Yi Sheng - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Centralised Human Resource System (CHRS)</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2113-AY1819S1-T16-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Lim Yi Sheng - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-centralised-human-resource-system-chrs"><a class="link" href="#project-centralised-human-resource-system-chrs">PROJECT: Centralised Human Resource System (CHRS)</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Centralised Human Resource System (CHRS) is an application for managing employees within the company.
The application is created to assist the Human Resource Department of the company to better manage the employees' information.
CHRS is capable of checking work schedule, creating recruitment posts, checking of expenses claims and storage of various information of each employee such as salary, department, position, etc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Added <code>filter</code> and enhanced <code>find</code> command</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The <code>filter</code> command allows user to filter out employees of a certain department, rank/position or both and the <code>find</code> command allows user to  search for a specific employee via their name or employee ID.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly as the user is able to search for the required employee&#8217;s details quickly.</p>
</li>
<li>
<p>Highlights: This enhancement enhances the user experience as the user can now search for an employee&#8217;s details without having the need to go through the whole list of employees. This feature required in-depth analysis of possible design alternatives and in-depth understanding of the HR needs when searching. The implementation of this feature was challenging as it required enhancement to existing commands and understanding of predicates.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancements</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Added  sorting to PersonList, ExpensesList and ScheduleList to ensure that the lists stay sorted in ascending order. (Pull request: <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/219">#219</a>)</p>
</li>
<li>
<p>Enhanced <code>add</code> and <code>edit</code> commands to reject having employees with duplication in these fields: <code>EmployeeId</code> OR <code>Email</code> OR <code>Phone</code> OR <code>Name</code> and <code>DateOfBirth</code>. Should any attempt of duplication occur, the application will display the employee being duplicated and reject the command. (Pull requests: <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/124">#124</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/134">#134</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/136">#136</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/219">#219</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nuscs2113-ay1819s1.github.io/dashboard/#=undefined&amp;search=limyisheng&amp;sort=displayName&amp;since=2018-09-12&amp;until=2018-11-04&amp;timeframe=day&amp;reverse=false&amp;repoSort=true">Reposense Dashboard</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.1</code> - <code>v1.4</code> (5 releases) on GitHub</p>
<div class="ulist">
<ul>
<li>
<p>Managed .jar file release and description of each release</p>
</li>
</ul>
</div>
</li>
<li>
<p>Managed the approval of pull requests</p>
</li>
<li>
<p>Set up issue tracker, milestones and labels</p>
</li>
<li>
<p>Ensures that the team is on track and is able to complete each milestone&#8217;s requirements</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Added <code>EmployeeId</code>, <code>DateOfBirth</code>, <code>Department</code>, <code>Rank/Position</code>, <code>Salary</code> and <code>Bonus</code> fields (Pull request: <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/18">#18</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Test Cases:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote additional tests for existing features to increase coverage from 88.7% to 92.6% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/240">#240</a>), 61.2% to 63.7% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/223">#223</a>), 53.7% to 61.2% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/221">#221</a>) and 72.9% to 74.1% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/104">#104</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Updated Read Me (Pull requests: <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/3/">#3</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/235">#235</a>)</p>
</li>
<li>
<p>Updated About Us to include team members' images, roles and responsibilities alongside GitHub and Portfolio links (Pull requests:  <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/1">#1</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/3">#3</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/8">#8</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/41">#41</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/127">#127</a>)</p>
</li>
<li>
<p>Updated Developer Guide on <code>filter</code> feature alongside model component, user stories, use cases and instructions for manual testing (Pull requests:  <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/11">#11</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/13">#13</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/14">#14</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/15">#15</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/97">#97</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/109">#109</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/235">#235</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/240">#240</a>)</p>
</li>
<li>
<p>Updated User Guide to ensure <code>add</code>, <code>edit</code>, <code>find</code> and <code>filter</code> commands alongside the fields added by me are up to date (Pull requests:  <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/95">#95</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/156">#156</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/167">#167</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/172">#172</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/183">#183</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/73">#73</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/123">#123</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/125">#125</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/130">#130</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/140">#140</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/182">#182</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/218">#218</a></p>
</li>
<li>
<p>Contributed to forum discussions (examples: <a href="https://github.com/nusCS2113-AY1819S1/forum/issues/40">1</a>, <a href="https://github.com/nusCS2113-AY1819S1/forum/issues/62">2</a>)</p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples: <a href="https://github.com/CS2113-AY1819S1-W13-4/main/issues/106">1</a>, <a href="https://github.com/CS2113-AY1819S1-W13-4/main/issues/104">2</a>, <a href="https://github.com/CS2113-AY1819S1-W13-4/main/issues/99">3</a>, <a href="https://github.com/CS2113-AY1819S1-W13-4/main/issues/109">4</a>, <a href="https://github.com/CS2113-AY1819S1-W13-4/main/issues/122">5</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Travis-CI (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/3">#3</a>) and AppVeyor (<a href="https://github.com/LimYiSheng/main/pull/9">#9</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="add-employee-s-data-code-add-code"><a class="link" href="#add-employee-s-data-code-add-code">Add employee&#8217;s data : <code>add</code></a></h3>
<div class="paragraph">
<p>Adds employee&#8217;s data to the database</p>
</div>
<div class="paragraph">
<p>Format: <code>add id/EMPLOYEEID n/NAME dob/DATE_OF_BIRTH p/PHONE_NUMBER e/EMAIL d/DEPARTMENT r/RANK_POSITION a/ADDRESS s/SALARY t/[TAGS]&#8230;&#8203;</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add id/000001 n/John Doe dob/13/12/2000 p/98765432 e/johnd@example.com d/IT r/Assistant a/John street, block 123, #01-01 s/3000.00 t/FlyKite</code><br>
Adds an employee with the fields listed above</p>
</li>
<li>
<p><code>add id/888888 n/Betsy dob/23/05/1987 p/95544332 e/betsy@example.com d/Account r/Manager a/Betsy street, block 3, #11-01 s/5000.00</code><br>
Adds an employee with the fields listed above</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any usage of <code>add</code> command that will result in duplicated employeeId or phone number or email will be rejected. Additionally, duplicated name alongside date of birth will also be rejected.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="edit-an-existing-employee-s-data-code-edit-code"><a class="link" href="#edit-an-existing-employee-s-data-code-edit-code">Edit an existing employee’s data : <code>edit</code></a></h3>
<div class="paragraph">
<p>Edit an existing employee’s data in CHRS.</p>
</div>
<div class="paragraph">
<p>Format: <code>edit INDEX [n/NAME] [p/PHONE_NUMBER] [a/ADDRESS] [e/EMAIL] [d/DEPARTMENT] [r/RANK_POSITION]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Include at least one field alongside the INDEX. The existing values of the employee will be updated to the input values.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>edit 1 p/98765432 d/HR r/Manager</code><br>
Edits employee at index 1 to have the new input of phone, department and rank/position</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any usage of <code>edit</code> command that will result in duplicated phone number or email will be rejected. Additionally, usage of this command to edit an employee&#8217;s name to be the same as another employee who has the same date of birth will be rejected.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="locating-persons-by-name-or-employee-id-code-find-code"><a class="link" href="#locating-persons-by-name-or-employee-id-code-find-code">Locating persons by name or employee ID : <code>find</code></a></h3>
<div class="paragraph">
<p>Find the employee&#8217;s name that contains the input or find the employee id that matches the input.
The expenses and schedule list will also be updated accordingly to show only the matched employee(s)' expenses and schedule.</p>
</div>
<div class="paragraph">
<p>Format: <code>find [NAME] [EMPLOYEEID]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Include only one of the fields, either Name or Employee Id.<br>
The NAME parameter is case-insensitive, i.e. The command <code>find john</code> will find the instances of JoHn, joHN, etc.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find John</code><br>
Find all instances of John, and his associated expenses and schedule</p>
</li>
<li>
<p><code>find 000001</code><br>
Find the employee with employee ID <code>000001</code>, and his/her associated expenses and schedule</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any usage of <code>find</code> command will be rejected if it contains special characters or alphanumeric input. It accepts only either alphabets or numbers in a single input, not both.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="filter-and-list-of-specific-employee-s-data-code-filter-code"><a class="link" href="#filter-and-list-of-specific-employee-s-data-code-filter-code">Filter and list of specific employee&#8217;s data : <code>filter</code></a></h3>
<div class="paragraph">
<p>Filters out the employees whose department and/or rank/position contains the keyword(s) input from the user and list them in ascending or descending name order.
The expenses and schedule list will also be updated accordingly to show only the matched employees' expenses and schedule.</p>
</div>
<div class="paragraph">
<p>Format: <code>filter SORT_ORDER [d/DEPARTMENT] [r/POSITION]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The SORT_ORDER parameter should either be asc for ascending or dsc for descending. The SORT_ORDER parameter is case-insensitive.<br>
Include either department or rank/position or both, at least one of the field must be included alongside the sort order. The keywords are delimited by a space, i.e filter asc d/human resource would mean the keywords are "human" and "resource". The keywords matching is case-insensitive.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>filter asc d/Human Resource r/Manager</code><br>
List all employees whose department contains the keyword of either human or resource and rank/position contains the keyword of manager in ascending name order.
Expenses and schedule list will also be updated to show only matched employee(s)' expenses and schedule(s).</p>
</li>
<li>
<p><code>filter dsc d/Finance</code><br>
List all employees whose department contains the keyword of finance in descending name order.
Expenses and schedule list will also be updated to show only matched employee(s)' expenses and schedule(s).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any usage of <code>filter</code> command that results in the same prefix appearing more than once will be rejected. Example: filter asc d/Human d/Finance will be rejected.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="keyword-suggestion-and-auto-complete-feature-em-upcoming-in-2-0-em"><a class="link" href="#keyword-suggestion-and-auto-complete-feature-em-upcoming-in-2-0-em">Keyword suggestion and auto complete feature <em>[Upcoming in 2.0]</em></a></h3>
<div class="paragraph">
<p>This feature will suggest keywords when filtering or finding employee and the keyword will be auto-completed by pressing <code>TAB</code> key. <em>[Upcoming in 2.0]</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="filter-feature"><a class="link" href="#filter-feature">Filter Feature</a></h3>
<div class="paragraph">
<p>The command <code>filter</code> allows the user to filter employees based on their respective department and/or position within the company.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>The implementation of this command is separated into two phases.</p>
</div>
<div class="sect4">
<h5 id="phase-1"><a class="link" href="#phase-1">Phase 1</a></h5>
<div class="paragraph">
<p>The <code>filter</code> command&#8217;s mechanism is facilitated by <code>FilterCommandParser</code>.
The <code>FilterCommandParser</code> implements the <code>Parser</code> interface, parses the arguments parameter, which is the input from the user, and creates a new <code>FilterCommand</code> object.
Apart from parsing the input, the <code>FilterCommandParser</code> also checks whether the input complies with the required format.
The checking of input compliance is assisted by a helper method, <code>didPrefixesAppearOnlyOnce</code>, which checks whether the department prefix and/or position prefix appears only once.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the input does not comply with the required format, an error message will be shown to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Code snippet of the <code>parse</code> method within <code>FilterCommandParser</code> showing the checks for input compliance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FilterCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
    ...
    ...

    ArgumentMultimap argMultimap = ArgumentTokenizer.tokenize(args, PREFIX_DEPARTMENT, PREFIX_POSITION);

    <span class="keyword">if</span> (trimmedArgs.isEmpty() || (!argMultimap.getValue(PREFIX_DEPARTMENT).isPresent()
            &amp;&amp; !argMultimap.getValue(PREFIX_POSITION).isPresent()) || !didPrefixesAppearOnlyOnce(trimmedArgs)
            || !ACCEPTED_ORDERS.contains(sortOrder)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(<span class="predefined-type">String</span>.format(MESSAGE_INVALID_COMMAND_FORMAT, FilterCommand.MESSAGE_USAGE));
    }

    ...
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Code snippet of the helper method <code>didPrefixesAppearOnlyOnce</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> didPrefixesAppearOnlyOnce(<span class="predefined-type">String</span> argument) {
    <span class="predefined-type">String</span> departmentPrefix = <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + PREFIX_DEPARTMENT.toString();
    <span class="predefined-type">String</span> positionPrefix = <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + PREFIX_POSITION.toString();

    <span class="keyword">return</span> argument.indexOf(departmentPrefix) == argument.lastIndexOf(departmentPrefix)
            &amp;&amp; argument.indexOf(positionPrefix) == argument.lastIndexOf(positionPrefix);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the input complies with the required format, further checks will be performed on the keywords to ensure that the keywords are valid.
This keywords checking is completed by the <code>processDepartmentKeywords</code> and <code>processPositionKeywords</code> methods that are both within the <code>FilterCommandParser</code> class.
This guide will focus on explaining how <code>processDepartmentKeywords</code> work instead of both as the methods <code>processDepartmentKeywords</code> and <code>processPositionKeywords</code> are similar.</p>
</div>
<div class="paragraph">
<p>Code snippet of the <code>parse</code> method in <code>FilterCommandParser</code> calling <code>processDepartmentKeywords</code> method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> FilterCommand parse(<span class="predefined-type">String</span> args) <span class="directive">throws</span> <span class="exception">ParseException</span> {
    ...
    ...

    if (!argMultimap.getValue(PREFIX_DEPARTMENT).isPresent()) {
        filterCommand.setIsDepartmentPrefixPresent(<span class="predefined-constant">false</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (argMultimap.getValue(PREFIX_DEPARTMENT).isPresent()
            &amp;&amp; !processDepartmentKeywords(argMultimap, filterCommand)) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">ParseException</span>(Department.MESSAGE_DEPARTMENT_KEYWORD_CONSTRAINTS);
    }

    ...
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Code snippet of <code>processDepartmentKeywords</code> helper method:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> processDepartmentKeywords(ArgumentMultimap argMultimap, FilterCommand command) {
    <span class="predefined-type">String</span> trimmedDepartment = (argMultimap.getValue(PREFIX_DEPARTMENT).get().trim());
    <span class="predefined-type">String</span><span class="type">[]</span> departmentKeywords = trimmedDepartment.split(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s+</span><span class="delimiter">&quot;</span></span>);

    <span class="keyword">return</span> validityCheckForDepartments(command, departmentKeywords);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>processDepartmentKeywords</code> is further assisted by the <code>validityCheckForDepartments</code> method which calls another method <code>areDepartmentKeywordsValid</code> to check whether the given keywords comply with the <code>DEPARTMENT_KEYWORD_VALIDATION_REGEX</code>.
If the keywords from the user are all valid, the departmentPredicate will be created and passed to the <code>FilterCommand</code> object through a setter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>DEPARTMENT_KEYWORD_VALIDATION_REGEX</code> is a regular expression that accepts only spaces and case-insensitive alphabets.
It only allows 1 to 30 characters per keyword.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Code snippet of <code>validityCheckForDepartments</code> and <code>areDepartmentKeywordsValid</code> methods in <code>FilterCommandParser</code> class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">boolean</span> validityCheckForDepartments(FilterCommand command, <span class="predefined-type">String</span><span class="type">[]</span> keywords) {
    <span class="keyword">if</span> (!areDepartmentKeywordsValid(keywords)) {
        <span class="keyword">return</span> <span class="predefined-constant">false</span>;
    }

    command.setIsDepartmentPrefixPresent(<span class="predefined-constant">true</span>);
    command.setDepartmentPredicate(<span class="keyword">new</span> DepartmentContainsKeywordsPredicate(<span class="predefined-type">Arrays</span>.asList(keywords)));
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
}

<span class="directive">public</span> <span class="type">boolean</span> areDepartmentKeywordsValid(<span class="predefined-type">String</span><span class="type">[]</span> keywords) {
    <span class="keyword">for</span> (<span class="predefined-type">String</span> keyword: keywords) {
        <span class="keyword">if</span> (!keyword.matches(DEPARTMENT_KEYWORD_VALIDATION_REGEX)) {
            <span class="keyword">return</span> <span class="predefined-constant">false</span>;
        }
    }
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="phase-2"><a class="link" href="#phase-2">Phase 2</a></h5>
<div class="paragraph">
<p>The <code>FilterCommand</code> is being executed in this phase.
<code>FilterCommand</code> first checks which prefix(es) is(are) present prior to calling the <code>updateFilteredPersonList</code> method, which updates <code>filteredPersonList</code>
 with the employees of the relevant department(s) and/or position(s) that matches the keyword(s) input from the user.
 Additionally, the methods <code>updateFilteredExpensesList</code> and <code>updateFilteredScheduleList</code> will also be called to update the <code>filteredExpensesList</code> and <code>filteredScheduleList</code> respectively to show only the matched employees' expenses and schedules.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the keywords input from the user results in 0 person found. The CLI will show the user a list of currently available department(s) and/or position(s) in the PersonList.
The listing of available department(s) and/or position(s) depends on the presence of the prefix.<br>
Example: If <code>filter asc d/hello</code> results in 0 person found, the CLI will list all the currently available department(s) in CHRS.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Code snippet of <code>FilterCommand</code> that checks which prefix is present prior to updating <code>filteredPersonList</code>, <code>filteredExpensesList</code> and <code>filteredScheduleList</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">FilterCommand</span> <span class="directive">extends</span> Command {
    ...
    ...

    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute(Model model, CommandHistory history) {
        requireNonNull(model);
        <span class="predefined-type">String</span> allAvailableDepartments = listAvailableDepartments(model);
        <span class="predefined-type">String</span> allAvailablePositions = listAvailablePositions(model);

        <span class="keyword">if</span> (isDepartmentPrefixPresent &amp;&amp; !isPositionPrefixPresent) {
            model.updateFilteredPersonList(departmentPredicate, sortOrder);
        } <span class="keyword">else</span> <span class="keyword">if</span> (isPositionPrefixPresent &amp;&amp; !isDepartmentPrefixPresent) {
            model.updateFilteredPersonList(positionPredicate, sortOrder);
        } <span class="keyword">else</span> <span class="keyword">if</span> (isDepartmentPrefixPresent &amp;&amp; isPositionPrefixPresent) {
            model.updateFilteredPersonList(departmentPredicate.and(positionPredicate), sortOrder);
        }

        EmployeeIdExpensesContainsKeywordsPredicate expensesPredicate = generateEmployeeIdExpensesPredicate(model);
        EmployeeIdScheduleContainsKeywordsPredicate schedulePredicate = generateEmployeeIdSchedulePredicate(model);
        model.updateFilteredExpensesList(expensesPredicate);
        model.updateFilteredScheduleList(schedulePredicate);

        <span class="keyword">return</span> <span class="keyword">new</span> CommandResult(feedbackToUser(model, allAvailableDepartments, allAvailablePositions));
    }

    ...
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The result of the execution of <code>FilterCommand</code> is then encapsulated as a <code>CommandResult</code> object which is returned to the <code>LogicManager</code>.
During the execution of <code>FilterCommand</code>, the <code>filteredPersonList</code>, <code>filteredExpensesList</code> and <code>filteredScheduleList</code> will be updated accordingly to display only employees, that belongs to the department(s)
 and/or hold the specified position(s) as specified by the user input.</p>
</div>
<div class="paragraph">
<p>The sequence diagram below illustrates the operation of <code>filter</code> command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/filterCommandSequenceDiagram.png" alt="filterCommandSequenceDiagram" width="900">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p>Aspect: Implementation of <code>filter</code> command</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: One command to handle filtering by department(s) and/or position(s)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Does not require several command and parser files to handle filtering of different fields</p>
</li>
<li>
<p>Cons: Additional methods required to check for presence of prefix and input validity</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Separate commands for filtering department and position, one for department and one for position</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement as it follows the existing <code>find</code> command</p>
</li>
<li>
<p>Cons: More commands to create and implementation can get quite complicated when filter requires both fields</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="future-improvements-keyword-suggestion-and-auto-complete-feature-em-upcoming-in-2-0-em"><a class="link" href="#future-improvements-keyword-suggestion-and-auto-complete-feature-em-upcoming-in-2-0-em">Future improvements: Keyword suggestion and auto complete feature <em>[Upcoming in 2.0]</em></a></h4>
<div class="paragraph">
<p>This feature will suggest keywords when filtering or finding employee and the keyword will be auto-completed by pressing <code>TAB</code> key. <em>[Upcoming in 2.0]</em></p>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 10:27:01 UTC</div></div></div></body></html>