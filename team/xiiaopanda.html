<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Vernon Cher Chu Xiong - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Centralised Human Resource System (CHRS)</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2113-AY1819S1-T16-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Vernon Cher Chu Xiong - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-centralised-human-resource-system-chrs"><a class="link" href="#project-centralised-human-resource-system-chrs">PROJECT: Centralised Human Resource System (CHRS)</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Centralised Human Resource System (CHRS) is an application for managing employees within the company.
The application is created to assist the Human Resource Department of the company to better manage the employees' information.
CHRS is capable of checking work schedule, creating recruitment posts, checking of expenses claims and storage of various information of each employee such as salary, department, position, etc.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: <code>AddExpenses</code> Command and <code>DeleteExpenses</code> Command</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The <code>AddExpenses</code> command allows user to create an expenses or modify an expenses that already expenses. <code>DeleteExpenses</code> command allows user to delete an expenses from the expenses list.</p>
</li>
<li>
<p>Justification: This feature improves the product significantly because a user can add or modify expenses that the employee wishes to claim.</p>
</li>
<li>
<p>Highlights: User can add or modify an individual employee&#8217;s single or multiple types of expenses in a single command. This enhancement enhances the user experience as the user can store new or update existing expenses and access it at any point time.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Added <code>SelectExpenses</code> Command to allow user to select any expenses in expenses list<br></p>
</li>
<li>
<p>Added <code>ClearExpenses</code> Command to allow user to clear the expenses list.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://nuscs2113-ay1819s1.github.io/dashboard/#=undefined&amp;search=xiiaopanda&amp;sort=displayName&amp;since=2018-09-12&amp;until=2018-11-04&amp;timeframe=day&amp;reverse=false&amp;repoSort=true">Reposense Dashboard</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Assist in approving, reviewing and merging pull requests</p>
</li>
</ul>
</div>
</li>
<li>
<p>Test cases:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote additional tests for existing features to increase coverage from 68.678% to 69.978% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/114">#114</a>), 67.323% to 70.223% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/220">#220</a>), 80.621% to 80.921% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/232">#232</a>), 84.889% to 87.789% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/244">#244</a>), 87.744% to 93.744% (<a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/248">#248</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Updated Developer Guide on <code>addExpenses</code> feature alongside model component and instructions for manual testing (Pull requests: <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/102">#102</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/232/files">#232</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/270">#270</a>)</p>
</li>
<li>
<p>Updated User Guide to ensure <code>addExpenses</code>, <code>deleteExpenses</code>, <code>SelectExpenses</code> and <code>clearExpenses</code> commands alongside the fields added by me are up to date (Pull requests: <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/114">#114</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/154">#154</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/174">#174</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments): <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/69">#69</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/103">#103</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/107">#107</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/99">#99</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/70">#70</a>, <a href="https://github.com/CS2113-AY1819S1-T16-4/main/pull/129">#129</a></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/CS2113-AY1819S1-F09-1/main/issues/110">1</a>, <a href="https://github.com/CS2113-AY1819S1-F09-1/main/issues/107">2</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="add-expenses-claims-under-a-specific-employee-code-addexpenses-code"><a class="link" href="#add-expenses-claims-under-a-specific-employee-code-addexpenses-code">Add expenses claims under a specific employee : <code>addExpenses</code></a></h3>
<div class="paragraph">
<p>Add new expenses for employee or modify expenses if there already exists an expenses</p>
</div>
<div class="paragraph">
<p>Format: <code>addExpenses id/EMPLOYEEID [tra/TRAVELEXPENSES] [med/MEDICALEXPENSES] [misc/MISCELLANEOUS]</code><br>
Or <code>ae id/EMPLOYEEID [tra/TRAVELEXPENSES] [med/MEDICALEXPENSES] [misc/MISCELLANEOUS]</code></p>
</div>
<div class="paragraph">
<p>At least one of the fields, Travel Expenses, Medical Expenses, Miscellaneous Expenses must be included.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ae id/000001 tra/111 med/222 misc/333</code><br>
Creates a new expenses that contain 111.00, 222.00 and 333.00 for the above fields for employee with employee id
'000001'.<br>
Total Expenses will reflect 666.00.</p>
</li>
<li>
<p><code>addExpenses id/000002 med/111 misc/222</code><br>
Creates a new expenses that contain 111.00, 222.00 for the above fields for employee with employee id
'000002'. Expenses will contain 0.00 for fields not included in command.<br>
Total Expenses will reflect 333.00.</p>
<div class="paragraph">
<p><code>addExpenses id/000002 tra/111 med/222 misc/-111</code><br>
Add 111.00, 222.00 and minus 111.00 for the above fields for employee with
employee id '000002'.<br>
Total Expenses will reflect 555.00.</p>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any usage of <code>addExpenses</code> Command that will result in negative value for any fields will be rejected.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="delete-expenses-claims-of-a-specific-employee-code-deleteexpenses-code"><a class="link" href="#delete-expenses-claims-of-a-specific-employee-code-deleteexpenses-code">Delete expenses claims of a specific employee : <code>deleteExpenses</code></a></h3>
<div class="paragraph">
<p>Deletes expenses claim from an employee.</p>
</div>
<div class="paragraph">
<p>Format: <code>deleteExpenses INDEX</code>  or <code>de INDEX</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>deleteExpenses 1</code><br>
Deletes expenses claim from employee with Index '1' in the list.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="select-an-expenses-claim-code-selectexpenses-code"><a class="link" href="#select-an-expenses-claim-code-selectexpenses-code">Select an expenses claim : <code>selectExpenses</code></a></h3>
<div class="paragraph">
<p>Select an expenses based on expenses list index ID. User could use command_alias: 'se'.</p>
</div>
<div class="paragraph">
<p>Format: <code>selectExpenses INDEX</code> or <code>se INDEX</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>selectExpenses 1</code><br>
Select the expenses with the index of '1' in the list</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="clear-expenses-list-code-clearexpenses-code"><a class="link" href="#clear-expenses-list-code-clearexpenses-code">Clear expenses list : <code>clearExpenses</code></a></h3>
<div class="paragraph">
<p>Clear all expenses at one go. User could use command_alias: 'ce'.</p>
</div>
<div class="paragraph">
<p>Format: <code>clearExpenses</code> or <code>ce</code></p>
</div>
</div>
<div class="sect2">
<h3 id="expenses-report-code-expensesreport-code-em-upcoming-in-2-0-em"><a class="link" href="#expenses-report-code-expensesreport-code-em-upcoming-in-2-0-em">Expenses Report: <code>expensesReport</code> <em>[Upcoming in 2.0]</em></a></h3>
<div class="paragraph">
<p>Generates an expenses report with the total expenses amount claimed and have not been claimed for a year <em>[Upcoming in 2.0]</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="add-expenses"><a class="link" href="#add-expenses">Add Expenses</a></h3>
<div class="paragraph">
<p>The expenses feature contains to two commands.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The command <code>addExpenses</code> allows the user to add expenses for each employee.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="current-implementation-for-code-addexpenses-code-command"><a class="link" href="#current-implementation-for-code-addexpenses-code-command">Current Implementation for <code>addExpenses</code> command</a></h4>
<div class="sect4">
<h5 id="phase-1"><a class="link" href="#phase-1">Phase 1</a></h5>
<div class="paragraph">
<p>The <code>addExpenses</code> command is handled by <code>AddExpensesCommandParser</code>.
The <code>AddExpensesCommandParser</code> implements the <code>Parser</code> interface, takes in input from the user as a form of argument,
The <code>AddExpensesCommandParser</code> will then check if user input contains too many prefixes or check for multiple entries of
same prefix.</p>
</div>
<div class="paragraph">
<p>Next, the <code>AddExpensesCommandParser</code> will compute the value of <code>expensesAmount</code> to be added by summing the
the values of <code>travelExpenses</code>, <code>medicalExpenses</code> and <code>miscellaneousExpenses</code>. The <code>AddExpensesCommandParser</code> will then
create the <code>Expenses</code> and <code>EditExpensesDescriptor</code> objects. Other classes will handle validation of the input, check if
it has the correct input format.</p>
</div>
<div class="paragraph">
<p>The five methods that helps to valid the input are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>isValidEmployeeId</code> from <code>EmployeeId</code> class</p>
</li>
<li>
<p><code>isValidExpensesAmount</code> from <code>ExpensesAmount</code> class</p>
</li>
<li>
<p><code>isValidTravelExpenses</code> from <code>TravelExpenses</code> class</p>
</li>
<li>
<p><code>isValidMedicalExpenses</code> from <code>MedicalExpenses</code> class</p>
</li>
<li>
<p><code>isValidMiscellaneousExpenses</code> from <code>MiscellaneousExpenses</code> class</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the input does not comply with the required format, an error message will be shown to the user.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Code snippet of <code>isValidEmployeeId</code> that shows the checking of the input compliance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> EMPLOYE_EXPENSES_ID_VALIDATION_REGEX = <span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">d{3,}</span><span class="delimiter">&quot;</span></span>;

<span class="comment">/**
     * Returns true if a given string is a valid Employee Expenses Id.
     */</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">boolean</span> isValidEmployeeId(<span class="predefined-type">String</span> test) {
        <span class="keyword">return</span> test.matches(EMPLOYE_EXPENSES_ID_VALIDATION_REGEX);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Code snippet of <code>isValidExpensesAmount</code> that shows the checking of the input compliance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> EMPLOYE_EXPENSES_AMOUNT_VALIDATION_REGEX = <span class="string"><span class="delimiter">&quot;</span><span class="content">[-]?[0-9]+(.[0-9]{0,2})?</span><span class="delimiter">&quot;</span></span>;

<span class="comment">/**
     * Returns true if a given string is a valid Expenses Amount.
     */</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">boolean</span> isValidExpensesAmount(<span class="predefined-type">String</span> test) {
        <span class="keyword">return</span> test.matches(EMPLOYE_EXPENSES_AMOUNT_VALIDATION_REGEX);
    }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="phase-2"><a class="link" href="#phase-2">Phase 2</a></h5>
<div class="paragraph">
<p>The <code>AddExpensesCommand</code> will take in the <code>Expenses</code> and <code>EditExpensesDescriptor</code> objects.</p>
</div>
<div class="paragraph">
<p>The <code>AddExpensesCommand</code> will first check if there exists a person in the person list that has the same employeeId  as
<code>Expenses</code> object using the condition <code>(!model.hasEmployeeId(toCheckEmployeeId)</code>.
The <code>AddExpensesCommand</code> will next check if there exists an expenses in the expenses list that has the same employeeId
as <code>Expenses</code> object using the condition <code>(!model.hasExpenses(toAddExpenses)</code>.</p>
</div>
<div class="paragraph">
<p>Code snippet of condition that checks the person and expenses list for person and expenses with same employeeId:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (!model.hasEmployeeId(toCheckEmployeeId)) {
            <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_EMPLOYEE_ID_NOT_FOUND);
        } <span class="keyword">else</span> <span class="keyword">if</span> (!model.hasExpenses(toAddExpenses)) {</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If Expenses List don&#8217;t have expenses with same EmployeeId,</p>
<div class="ulist">
<ul>
<li>
<p>The <code>AddExpensesCommand</code> will then check if any of the fields will contains negative value or exceed the limit. An exception will be
thrown if at least one of the fields contains negative value or exceed the limit.</p>
</li>
<li>
<p>The <code>AddExpensesCommand</code> will then add the expenses into CHRS.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Code snippet of <code>If Expenses List don&#8217;t have expenses with same EmployeeId</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">else</span> <span class="keyword">if</span> (!model.hasExpenses(toAddExpenses)) {
    <span class="keyword">if</span> (<span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getExpensesAmount().toString()) &lt; <span class="integer">0</span>
        || <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getTravelExpenses().toString()) &lt; <span class="integer">0</span>
        || <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMedicalExpenses().toString()) &lt; <span class="integer">0</span>
        || <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMiscellaneousExpenses().toString()) &lt; <span class="integer">0</span>) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_NEGATIVE_LEFTOVER);
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getExpensesAmount().toString()) &gt; MAX_TOTAL_EXPENSES
        || <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getTravelExpenses().toString()) &gt; MAX_EXPENSES_AMOUNT
        || <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMedicalExpenses().toString()) &gt; MAX_EXPENSES_AMOUNT
        || <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMiscellaneousExpenses().toString()) &gt; MAX_EXPENSES_AMOUNT
    ) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_VALUE_OVER_LIMIT);
    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getExpensesAmount().toString()) &gt;= <span class="integer">0</span>
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getTravelExpenses().toString()) &gt;= <span class="integer">0</span>
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMedicalExpenses().toString()) &gt;= <span class="integer">0</span>
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMiscellaneousExpenses().toString()) &gt;= <span class="integer">0</span>
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getExpensesAmount().toString()) &lt;= MAX_TOTAL_EXPENSES
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getTravelExpenses().toString()) &lt;= MAX_EXPENSES_AMOUNT
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMedicalExpenses().toString()) &lt;= MAX_EXPENSES_AMOUNT
            &amp;&amp; <span class="predefined-type">Double</span>.parseDouble(toAddExpenses.getMiscellaneousExpenses().toString()) &lt;= MAX_EXPENSES_AMOUNT
    ) {
        model.addExpenses(toAddExpenses);
        model.commitExpensesList();
        messageToShow = MESSAGE_SUCCESS;
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If Expenses List have expenses with same EmployeeId,</p>
<div class="ulist">
<ul>
<li>
<p>The <code>AddExpensesCommand</code> will create an <code>expensesToEdit</code> object The <code>AddExpensesCommand</code> will then call
<code>createEditedExpenses</code> method with <code>expensesToEdit</code> and <code>EditExpensesDescriptor</code> object as parameters.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Code snippet creating <code>expensesToEdit</code> object and calling <code>createdEditedExpenses</code> method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">else</span> <span class="keyword">if</span> (model.hasExpenses(toAddExpenses)) {
    EmployeeIdExpensesContainsKeywordsPredicate predicatEmployeeId;
    <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; employeeIdList = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
    <span class="predefined-type">List</span>&lt;Expenses&gt; lastShownListExpenses;

    employeeIdList.add(toCheckEmployeeId.getEmployeeId().value);
    predicatEmployeeId = <span class="keyword">new</span> EmployeeIdExpensesContainsKeywordsPredicate(employeeIdList);

    model.updateFilteredExpensesList(predicatEmployeeId);
    lastShownListExpenses = model.getFilteredExpensesList();

    Expenses expensesToEdit = lastShownListExpenses.get(<span class="integer">0</span>);
    Expenses editedExpenses = createEditedExpenses(expensesToEdit, editExpensesDescriptor);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>createEditedExpenses</code> method will call <code>modifyExpensesAmount</code>, <code>modifyTravelExpenses</code>, <code>modifyMedicalExpenses</code>,
<code>modifyMiscellaneousExpenses</code>, methods with <code>expensesToEdit</code> and <code>EditExpensesDescriptor</code> object as parameter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Code snippet <code>createdEditedExpenses</code> method</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="directive">private</span> Expenses createEditedExpenses(Expenses expensesToEdit, EditExpensesDescriptor
            editExpensesDescriptor) {
        <span class="keyword">assert</span> expensesToEdit != <span class="predefined-constant">null</span>;
        ExpensesAmount updatedExpensesAmount = <span class="predefined-constant">null</span>;
        TravelExpenses updatedTravelExpenses = <span class="predefined-constant">null</span>;
        MedicalExpenses updatedMedicalExpenses = <span class="predefined-constant">null</span>;
        MiscellaneousExpenses updatedMiscellaneousExpenses = <span class="predefined-constant">null</span>;

        EmployeeId updatedEmployeeId = expensesToEdit.getEmployeeId();
        <span class="keyword">try</span> {
            updatedExpensesAmount = ParserUtil.parseExpensesAmount(modifyExpensesAmount(expensesToEdit,
                    editExpensesDescriptor));
            updatedTravelExpenses = ParserUtil.parseTravelExpenses(modifyTravelExpenses(expensesToEdit,
                    editExpensesDescriptor));
            updatedMedicalExpenses = ParserUtil.parseMedicalExpenses(modifyMedicalExpenses(expensesToEdit,
                    editExpensesDescriptor));
            updatedMiscellaneousExpenses = ParserUtil.parseMiscellaneousExpenses(modifyMiscellaneousExpenses(
                    expensesToEdit, editExpensesDescriptor));
        } <span class="keyword">catch</span> (<span class="exception">ParseException</span> pe) {
            pe.printStackTrace();
        }

        <span class="keyword">return</span> <span class="keyword">new</span> Expenses(updatedEmployeeId, updatedExpensesAmount, updatedTravelExpenses, updatedMedicalExpenses,
                updatedMiscellaneousExpenses);
    }</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Each method will edit their respective field from <code>expensesToEdit</code> with the same field from <code>EditExpensesDescriptor</code>.
The method will set isNegativeLeftover to be true and set isOverLimit to be true if the values is below 0 or exceed max
value.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Code snippet <code>modifyExpensesAmount</code> method, one of the methods being called</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="predefined-type">String</span> modifyExpensesAmount (Expenses expensesToEdit, EditExpensesDescriptor
        editExpensesDescriptor) {
    <span class="predefined-type">NumberFormat</span> formatter = <span class="keyword">new</span> <span class="predefined-type">DecimalFormat</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">#0.00</span><span class="delimiter">&quot;</span></span>);
    <span class="predefined-type">String</span> newExpensesAmount = expensesToEdit.getExpensesAmount().toString();
    <span class="type">double</span> updateExpensesAmount = <span class="predefined-type">Double</span>.parseDouble(newExpensesAmount);
    <span class="predefined-type">String</span> change = editExpensesDescriptor.getExpensesAmount().toString().replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">[^0-9.-]</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
    updateExpensesAmount += <span class="predefined-type">Double</span>.parseDouble(change);
    <span class="keyword">if</span> (updateExpensesAmount &lt; <span class="integer">0</span>) {
        setIsNegativeLeftover(<span class="predefined-constant">true</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (updateExpensesAmount &gt; MAX_TOTAL_EXPENSES) {
        setIsOverLimit(<span class="predefined-constant">true</span>);
    } <span class="keyword">else</span> <span class="keyword">if</span> (updateExpensesAmount &gt;= <span class="integer">0</span>) {
        newExpensesAmount = <span class="predefined-type">String</span>.valueOf(formatter.format(updateExpensesAmount));
    }
    <span class="keyword">return</span> newExpensesAmount;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>AddExpensesCommand</code> will check for isNegativeLeftover and isOverLimit. If both are false, the
<code>AddExpensesCommand</code> will then update the updated expenses into CHRS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Code snippet of isNegativeLeftover and isOverLimit check</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (getIsNegativeLeftover()) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_NEGATIVE_LEFTOVER);
    } <span class="keyword">else</span> <span class="keyword">if</span> (getIsOverLimit()) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_VALUE_OVER_LIMIT);
    } <span class="keyword">else</span> <span class="keyword">if</span> (!getIsNegativeLeftover() &amp;&amp; !getIsOverLimit()) {
        messageToShow = MESSAGE_SUCCESS;
        model.updateExpenses(expensesToEdit, editedExpenses);
        model.commitExpensesList();
    }
    model.updateFilteredExpensesList(PREDICATE_SHOW_ALL_EXPENSES);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The sequence diagram below illustrates the operation of the <code>AddExpensesCommand</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/Add_ExpensesCommandSequenceDiagram.png" alt="Add ExpensesCommandSequenceDiagram" width="900">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p>Aspect implementation of <code>AddExpenses</code> command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Have a single command to add and modify expenses.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User isn&#8217;t require to ensure that there exist an expenses for the employee before modifying the expenses</p>
</li>
<li>
<p>Cons: Have to handle more conditions and possibly more prone to bugs.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Have separate commands to add or modify expenses.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User won&#8217;t have the possibly of mixing up if they want to add new expenses or modify old expenses.</p>
</li>
<li>
<p>Cons: Requires user to know more commands.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Aspect: <code>Expenses List</code> Storage</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Have expenses stored in XML format.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to read, code and test XML files.</p>
</li>
<li>
<p>Cons: Can&#8217;t compute or tabulate data from file.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Have schedules stored in CSV format.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More efficient way of storing tabular data like expenses</p>
</li>
<li>
<p>Cons: Harder to read as compared to XML file.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="expenses-report-code-expensesreport-code-em-upcoming-in-2-0-em-2"><a class="link" href="#expenses-report-code-expensesreport-code-em-upcoming-in-2-0-em-2">Expenses Report: <code>expensesReport</code> <em>[Upcoming in 2.0]</em></a></h4>
<div class="paragraph">
<p>Generates an expenses report with the total expenses amount claimed and have not been claimed for a year <em>[Upcoming in 2.0]</em></p>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 12:03:53 UTC</div></div></div></body></html>